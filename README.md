# **Stikhi-pirogi**

<h1>Введение</h1>
Целью данного проекта, была попытка создать алгоритм, генерирующий так называемые "стишки-пирожки" - произведения малого поэтического жанра, написанные, как правило, белым (четырёхстопным) ямбом.

Для этого предполагалость:

<ul>
<li>Распарсить <a href='https://poetory.ru/pir/rating'>сайт</a> и собрать "пирожки" в отдельный файл</li>
<li>Создать на основе файла с "пирожками" json-список вида {'слово': 'коллокат1': 0.2(относительная частота), 'коллокат2': 0.8}</li>
<li>Используя библиотеку <a href='https://pypi.org/project/russtress/'>russtress</a> разметить каждое слово по не/ударным слогам и создать json-файл вида {"слово": "V'V"}</li>
<li>Построить алгоритм, принимающий на вход слово и, в соответствии с ударением (в попытке сохранить ямб), возвращающий следующее слово предложения</li>
<li>Оформить это в виде телеграм бота</li>
</ul>

<h1>Код</h1>
<h2>Пример использования</h2>

```python
from poet import Poem

poem = Poem()
poem.generate_bigram()
print(poem.show())
poem.clear()
```

<h2>Фильтрующая функция</h2>
Массив коллокатов слова отфильтровывался с помощью встроенного метода filter(), фильтрующей функцией которого, был приведенный ниже алгоритм.
<br>
<br>
<br>
<img src="rhyme func diagram.svg">
<h2>Парсер</h2>

```python
from bs4 import BeautifulSoup
from fake_useragent import UserAgent
```

<h2>Методы класса Poem</h2>

```python
generate_unigram() #метод, не требующий аргументов при вызове вне класса
#Генерирует стих на основе униграмм
#Ничего не возвращает, лишь записывая стих в переменную класса lines (как и все методы generate_...)
```

```python
generate_bigram() #метод, также не требующий аргументов при вызове вне класса
#Генерирует стих на основе биграмм
```

```python
generate_markov(model=text_model) #принимает на вход текстовую модель.
#По умолчанию файл со стишками-пирожками
```

```python
show() #возвращает строку с готовым стихом
clear() #возвращает внутренние переменные класса к начальному состоянию
#Нужно вызывать после каждой генерации
```
